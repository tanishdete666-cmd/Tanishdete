<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Platformer</title>
    <style>
        body { margin: 0; overflow: hidden; background: #222; }
        canvas { display: block; background: #444; }
        #score { position: absolute; top: 10px; left: 10px; color: white; font-size: 18px; font-family: Arial, sans-serif; }
    </style>
</head>
<body>
    <div id="score">Score: 0 | Steps: 0</div>
    <canvas id="gameCanvas"></canvas>
    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        canvas.width = 400;
        canvas.height = 300;

        const player = {
            x: 50, y: 200, width: 20, height: 20,
            color: "yellow", speed: 3,
            dy: 0, gravity: 0.5, jumpPower: -8,
            onGround: false
        };

        const platform = { x: 50, y: 250, width: 300, height: 10, color: "green" };

        let keys = {};
        let score = 0;
        let steps = 0;

        window.addEventListener("keydown", e => keys[e.code] = true);
        window.addEventListener("keyup", e => keys[e.code] = false);

        function update() {
            let moved = false;
            if (keys["ArrowRight"]) { player.x += player.speed; moved = true; }
            if (keys["ArrowLeft"]) { player.x -= player.speed; moved = true; }
            if (keys["Space"] && player.onGround) {
                player.dy = player.jumpPower;
                player.onGround = false;
                score += 10;
            }

            if (moved) steps++;
            player.dy += player.gravity;
            player.y += player.dy;

            if (player.y + player.height >= platform.y &&
                player.x + player.width > platform.x &&
                player.x < platform.x + platform.width) {
                player.y = platform.y - player.height;
                player.dy = 0;
                player.onGround = true;
            }

            if (player.y + player.height >= canvas.height) {
                player.y = canvas.height - player.height;
                player.dy = 0;
                player.onGround = true;
            }

            document.getElementById("score").innerText = `Score: ${score} | Steps: ${steps}`;
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = platform.color;
            ctx.fillRect(platform.x, platform.y, platform.width, platform.height);
            ctx.fillStyle = player.color;
            ctx.fillRect(player.x, player.y, player.width, player.height);
        }

        function gameLoop() {
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }

        gameLoop();
    </script>
</body>
</html>
